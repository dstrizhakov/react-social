"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[878],{7878:function(e,s,n){n.r(s),n.d(s,{default:function(){return L}});var r=n(5671),o=n(3144),t=n(136),i=n(5716),l=n(2791),a=n(8687),u=n(2338),c="Users_wrapper__5xAxS",g="Users_main__wQ-5I",f="Users_Container__bb8GZ",d="Users_leftCnt__IBSt2",p="Users_rightCnt__sUPsu",h="Users_name__RzBeN",_="Users_status__rexAX",P="Users_PhotoCnt__5jZ74",m="Users_buttons__AeLzH",w="Users_follow__Fy8nl",x="Users_unfollow__0sc5n",C=n(8055),j=n(885),v="Paginator_pages__ID0sn",U="Paginator_selectedPage__Fx664",N=n(184),b=function(e){for(var s=e.totalItemsCount,n=e.pageSize,r=e.currentPage,o=e.onPageChanged,t=e.portionSize,i=void 0===t?25:t,a=Math.ceil(s/n),u=[],c=1;c<=a;c++)u.push(c);var g=Math.ceil(a/i),f=(0,l.useState)(1),d=(0,j.Z)(f,2),p=d[0],h=d[1],_=(p-1)*i+1,P=p*i;return(0,l.useEffect)((function(){return h(Math.ceil(r/i))}),[r]),(0,N.jsxs)("div",{className:v,children:[(0,N.jsx)("button",{disabled:!(p>1),onClick:function(){h(p-1)},children:"Prev"}),u.filter((function(e){return e>=_&&e<=P})).map((function(e){return(0,N.jsx)("span",{className:r===e&&U,onClick:function(s){o(e)},children:e},e)})),(0,N.jsx)("button",{disabled:!(g>p),onClick:function(){h(p+1)},children:"Next"})]})},S=n(3504),z=function(e){var s=e.user,n=e.followingInProgress,r=e.unfollow,o=e.follow;return(0,N.jsxs)("div",{className:f,children:[(0,N.jsxs)("div",{className:d,children:[(0,N.jsx)(S.OL,{to:"/profile/"+s.id,children:(0,N.jsx)("div",{className:P,children:(0,N.jsx)("img",{src:null!=s.photos.small?s.photos.small:C,alt:"\u043e\u0439, \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u043d\u0435\u0442"})})}),(0,N.jsx)("div",{className:m,children:s.followed?(0,N.jsx)("button",{disabled:n.some((function(e){return e===s.id})),className:x,onClick:function(){r(s.id)},children:"Unfollow"}):(0,N.jsx)("button",{disabled:n.some((function(e){return e===s.id})),className:w,onClick:function(){o(s.id)},children:"Follow"})})]}),(0,N.jsx)("div",{className:p,children:(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:h,children:s.name}),(0,N.jsx)("div",{className:_,children:s.status})]})})]},s.id)},I=function(e){return(0,N.jsxs)("div",{className:c,children:[(0,N.jsx)(b,{currentPage:e.currentPage,onPageChanged:e.onPageChanged,totalItemsCount:e.totalUsersCount,pageSize:e.pageSize}),(0,N.jsx)("div",{className:g,children:e.users.map((function(s){return(0,N.jsx)(z,{user:s,followingInProgress:e.followingInProgress,follow:e.follow,unfollow:e.unfollow},s.id)}))})]})},k=n(4080),Z=n(7781),F=function(e){return e.usersPage.users},y=function(e){return e.usersPage.pageSize},A=function(e){return e.usersPage.totalUsersCount},M=function(e){return e.usersPage.currentPage},D=function(e){return e.usersPage.isFetching},B=function(e){return e.usersPage.followingInProgress},H=function(e){(0,t.Z)(n,e);var s=(0,i.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,t=new Array(o),i=0;i<o;i++)t[i]=arguments[i];return(e=s.call.apply(s,[this].concat(t))).onPageChanged=function(s){var n=e.props.pageSize;e.props.getUsers(s,n)},e}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,s=e.currentPage,n=e.pageSize;this.props.getUsers(s,n)}},{key:"render",value:function(){return(0,N.jsxs)(N.Fragment,{children:[this.props.isFetching?(0,N.jsx)(k.Z,{}):null,(0,N.jsx)(I,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,onPageChanged:this.onPageChanged,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress})]})}}]),n}(l.Component),L=(0,Z.qC)((0,a.$j)((function(e){return{users:F(e),pageSize:y(e),totalUsersCount:A(e),currentPage:M(e),isFetching:D(e),followingInProgress:B(e)}}),{follow:u.ZN,unfollow:u.fv,toggleFollowingProgress:u.ZH,getUsers:u.D7}))(H)}}]);
//# sourceMappingURL=878.95241ca8.chunk.js.map