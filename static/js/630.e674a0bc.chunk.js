"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[630],{1630:function(s,t,e){e.r(t),e.d(t,{default:function(){return V}});var n=e(5671),r=e(3144),i=e(136),o=e(5716),a=e(8683),c=e(2791),u=e(885),l={image:"ProfileInfo_image__5J9ak",info:"ProfileInfo_info__P-i7F",statusArea:"ProfileInfo_statusArea__rkVyK",status:"ProfileInfo_status__H9X2x",avatar:"ProfileInfo_avatar__Jmx-P",data:"ProfileInfo_data__ggGfo",name:"ProfileInfo_name__zgEhi",contacts:"ProfileInfo_contacts__W1Lcj",contact:"ProfileInfo_contact__L+iK0",formSummaryError:"ProfileInfo_formSummaryError__ecZs5"},d=e(4080),f=e(8055),h=e(184),p=function(s){var t=(0,c.useState)(s.status),e=(0,u.Z)(t,2),n=e[0],r=e[1],i=(0,c.useState)(!1),o=(0,u.Z)(i,2),a=o[0],d=o[1];(0,c.useEffect)((function(){r(s.status)}),[s.status]);return(0,h.jsxs)("div",{className:l.status,children:[!a&&(0,h.jsx)("div",{children:(0,h.jsx)("span",{onDoubleClick:function(){d(!0)},children:n||"No status"})}),a&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{onChange:function(s){r(s.currentTarget.value)},autoFocus:!0,onBlur:function(){s.updateStatus(n),d(!1)},value:n})})]})},x=e(774),j=e(704),m=e(8687),v=(0,j.Z)({form:"edit-profile"})((function(s){var t=s.handleSubmit,e=s.profile,n=s.error;return(0,h.jsxs)("form",{onSubmit:function(){},children:[(0,h.jsx)("div",{children:(0,h.jsx)("button",{onClick:t,children:"Save"})}),n&&(0,h.jsx)("div",{className:l.formSummaryError,children:n}),(0,h.jsx)("div",{className:l.name,children:(0,x.Gr)("Full name",[],"fullName",x.II)}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Looking for a job"}),":",(0,x.Gr)("",[],"lookingForAJob",x.II,{type:"checkbox"})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"My professional skills"}),":",(0,x.Gr)("My professional skills",[],"lookingForAJobDescription",x.gx)]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"About me"}),":",(0,x.Gr)("About me",[],"aboutMe",x.gx)]}),(0,h.jsx)("div",{className:l.contacts,children:(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Contacts:"})," ",Object.keys(e.contacts).map((function(s){return(0,h.jsx)("div",{className:l.contact,children:(0,h.jsxs)("b",{children:[" ",s,": ",(0,x.Gr)(s,[],"contacts."+s,x.II)]})},s)}))]})})]})})),_=function(s){var t=s.profile,e=s.isOwner,n=s.goToEditMode;return(0,h.jsxs)("div",{className:l.info,children:[e&&(0,h.jsx)("div",{children:(0,h.jsx)("button",{onClick:n,children:"Edit"})}),(0,h.jsx)("div",{className:l.name,children:t.fullName}),(0,h.jsx)("div",{className:l.city,children:t.aboutMe}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Looking for a job"}),":",t.lookingForAJob?"yes":"no"]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"My professional skills"}),": ",t.lookingForAJobDescription]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"About me"}),": ",t.aboutMe]}),(0,h.jsx)("div",{className:l.contacts,children:(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Contacts:"})," ",Object.keys(t.contacts).map((function(s){return(0,h.jsx)(P,{contactTitle:s,contactValue:t.contacts[s]},s)}))]})})]})},P=function(s){var t=s.contactTitle,e=s.contactValue;return(0,h.jsxs)("div",{className:l.contact,children:[(0,h.jsx)("b",{children:t}),":",e]})},b=function(s){var t=s.profile,e=s.status,n=s.updateStatus,r=s.isOwner,i=s.savePhoto,o=s.saveProfile,a=(0,c.useState)(!1),x=(0,u.Z)(a,2),j=x[0],m=x[1];if(!t)return(0,h.jsx)(d.Z,{});return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:l.data,children:[(0,h.jsxs)("div",{className:l.statusArea,children:[(0,h.jsx)("div",{className:l.avatar,children:(0,h.jsx)("img",{src:t.photos.large||f,alt:"user photo"})}),r&&(0,h.jsx)("input",{type:"file",onChange:function(s){s.target.files.length&&i(s.target.files[0])}}),(0,h.jsx)(p,{status:e,updateStatus:n})]}),j?(0,h.jsx)(v,{initialValues:t,profile:t,isOwner:r,onSubmit:function(s){o(s).then((function(){m(!1)}))}}):(0,h.jsx)(_,{goToEditMode:function(){m(!0)},profile:t,isOwner:r})]})})},g=e(6070),k=e(2982),I="Post_item__64-Vj",Z="Post_actions__UlnxO",S=function(s){return(0,h.jsxs)("div",{className:I,children:[(0,h.jsx)("img",{src:"https://android-obzor.com/wp-content/uploads/2022/02/5-1.jpg",alt:""}),s.message,(0,h.jsxs)("div",{className:Z,children:[(0,h.jsx)("span",{children:"like "}),(0,h.jsx)("span",{children:s.likeCount})]})]})},y="Post_posts__z91Hw",N="Post_postwall__8nH9V",A="Posts_input__tMPE+",w=e(6139),C=e(5304),M=(0,C.h)(300),O=(0,j.Z)({form:"ProfileAddNewPostForm"})((function(s){return(0,h.jsxs)("form",{className:A,onSubmit:s.handleSubmit,children:[(0,h.jsx)(w.Z,{name:"newPostText",component:x.gx,validate:[C.C,M]}),(0,h.jsx)("button",{children:"Add post"})]})})),E=function(s){var t=(0,k.Z)(s.posts).reverse().map((function(s){return(0,h.jsx)(S,{message:s.message,likeCount:s.likeCount},s.id)}));return(0,h.jsxs)("div",{className:y,children:[(0,h.jsx)("h3",{children:"My posts:"}),(0,h.jsx)(O,{onSubmit:function(t){s.addPost(t.newPostText)}}),(0,h.jsx)("div",{className:N,children:t})]})},F=(0,m.$j)((function(s){return{posts:s.profilePage.postsData,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(t){s((0,g.Wl)(t))}}}))(E),T=function(s){return(0,h.jsxs)("div",{children:[(0,h.jsx)(b,{savePhoto:s.savePhoto,isOwner:s.isOwner,profile:s.profile,status:s.status,saveProfile:s.saveProfile,updateStatus:s.updateStatus}),(0,h.jsx)(F,{})]})},D=e(6871),J=e(7781),G=e(1548),U=function(s){(0,i.Z)(e,s);var t=(0,o.Z)(e);function e(){return(0,n.Z)(this,e),t.apply(this,arguments)}return(0,r.Z)(e,[{key:"refreshProfile",value:function(){var s=this.props.match.params.userId;":userId"===s&&(s=this.props.autorizedUserId),this.props.getUserProfile(s),this.props.getStatus(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,t,e){this.props.match.params.userId!=s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,h.jsxs)("div",{children:[(0,h.jsx)(T,(0,a.Z)((0,a.Z)({},this.props),{},{isOwner:":userId"===this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto})),(0,h.jsx)(D.Z5,{children:(0,h.jsx)(D.AW,{path:":id",element:(0,h.jsx)(T,(0,a.Z)((0,a.Z)({},this.props),{},{profile:this.props.profile}))})})]})}}]),e}(c.Component),V=(0,J.qC)((0,m.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,autorizedUserId:s.auth.id,isAuth:s.auth.isAuth}}),{getUserProfile:g.et,getStatus:g.lR,updateStatus:g.Nf,savePhoto:g.Ju,saveProfile:g.Ii}),(function(s){return function(t){var e=(0,D.bS)("/profile/:userId");return(0,h.jsx)(s,(0,a.Z)((0,a.Z)({},t),{},{match:e}))}}),G.D)(U)},1548:function(s,t,e){e.d(t,{D:function(){return h}});var n=e(8683),r=e(5671),i=e(3144),o=e(136),a=e(5716),c=e(6871),u=e(2791),l=e(8687),d=e(184),f=function(s){return{isAuth:s.auth.isAuth}},h=function(s){var t=function(t){(0,o.Z)(u,t);var e=(0,a.Z)(u);function u(){return(0,r.Z)(this,u),e.apply(this,arguments)}return(0,i.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(s,(0,n.Z)({},this.props)):(0,d.jsx)(c.Fg,{replace:!0,to:"/login"})}}]),u}(u.Component);return(0,l.$j)(f)(t)}}}]);
//# sourceMappingURL=630.e674a0bc.chunk.js.map