"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[42],{5042:function(t,s,e){e.r(s),e.d(s,{default:function(){return T}});var n=e(5671),a=e(3144),r=e(136),o=e(5716),i=e(8683),u=e(2791),c={image:"ProfileInfo_image__5J9ak",info:"ProfileInfo_info__P-i7F",statusArea:"ProfileInfo_statusArea__rkVyK",status:"ProfileInfo_status__H9X2x",avatar:"ProfileInfo_avatar__Jmx-P",data:"ProfileInfo_data__ggGfo",name:"ProfileInfo_name__zgEhi",contacts:"ProfileInfo_contacts__W1Lcj"},l=e(4080),h=e(8055),f=e(885),d=e(184),p=function(t){var s=(0,u.useState)(t.status),e=(0,f.Z)(s,2),n=e[0],a=e[1],r=(0,u.useState)(!1),o=(0,f.Z)(r,2),i=o[0],l=o[1];(0,u.useEffect)((function(){a(t.status)}),[t.status]);return(0,d.jsxs)("div",{className:c.status,children:[!i&&(0,d.jsx)("div",{children:(0,d.jsx)("span",{onDoubleClick:function(){l(!0)},children:n||"No status"})}),i&&(0,d.jsx)("div",{children:(0,d.jsx)("input",{onChange:function(t){a(t.currentTarget.value)},autoFocus:!0,onBlur:function(){t.updateStatus(n),l(!1)},value:n})})]})},x=function(t){var s=t.profile,e=t.status,n=t.updateStatus,a=t.isOwner,r=t.savePhoto;if(!s)return(0,d.jsx)(l.Z,{});return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:c.data,children:[(0,d.jsxs)("div",{className:c.statusArea,children:[(0,d.jsx)("div",{className:c.avatar,children:(0,d.jsx)("img",{src:s.photos.large||h,alt:"user photo"})}),a&&(0,d.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&r(t.target.files[0])}}),(0,d.jsx)(p,{status:e,updateStatus:n})]}),(0,d.jsxs)("div",{className:c.info,children:[(0,d.jsx)("div",{className:c.name,children:s.fullName}),(0,d.jsx)("div",{className:c.city,children:s.aboutMe}),(0,d.jsxs)("div",{children:[s.lookingForAJob?"\u0418\u0449\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443: ":"\u041d\u0435 \u0438\u0449\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443: ",s.lookingForAJobDescription?s.lookingForAJobDescription:"-"]}),(0,d.jsxs)("div",{className:c.contacts,children:[(0,d.jsx)("div",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),(0,d.jsx)("a",{href:s.contacts.facebook,children:s.contacts.facebook}),(0,d.jsx)("a",{href:s.contacts.website,children:s.contacts.website}),(0,d.jsx)("a",{href:s.contacts.vk,children:s.contacts.vk}),(0,d.jsx)("a",{href:s.contacts.twitter,children:s.contacts.twitter}),(0,d.jsx)("a",{href:s.contacts.instagram,children:s.contacts.instagram}),(0,d.jsx)("a",{href:s.contacts.youtube,children:s.contacts.youtube}),(0,d.jsx)("a",{href:s.contacts.github,children:s.contacts.github}),(0,d.jsx)("a",{href:s.contacts.mainLink,children:s.contacts.mainLink})]})]})]})})},j=e(6070),m=e(2982),v="Post_item__64-Vj",_="Post_actions__UlnxO",P=function(t){return(0,d.jsxs)("div",{className:v,children:[(0,d.jsx)("img",{src:"https://android-obzor.com/wp-content/uploads/2022/02/5-1.jpg",alt:""}),t.message,(0,d.jsxs)("div",{className:_,children:[(0,d.jsx)("span",{children:"like "}),(0,d.jsx)("span",{children:t.likeCount})]})]})},g="Post_posts__z91Hw",k="Post_postwall__8nH9V",Z="Posts_input__tMPE+",b=e(6139),w=e(704),I=e(774),N=e(5304),S=(0,N.h)(10),y=(0,w.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,d.jsxs)("form",{className:Z,onSubmit:t.handleSubmit,children:[(0,d.jsx)(b.Z,{name:"newPostText",component:I.gx,validate:[N.C,S]}),(0,d.jsx)("button",{children:"Add post"})]})})),A=function(t){var s=(0,m.Z)(t.posts).reverse().map((function(t){return(0,d.jsx)(P,{message:t.message,likeCount:t.likeCount},t.id)}));return(0,d.jsxs)("div",{className:g,children:[(0,d.jsx)("h3",{children:"My posts:"}),(0,d.jsx)(y,{onSubmit:function(s){t.addPost(s.newPostText)}}),(0,d.jsx)("div",{className:k,children:s})]})},C=e(8687),D=(0,C.$j)((function(t){return{posts:t.profilePage.postsData,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(s){t((0,j.Wl)(s))}}}))(A),F=function(t){return(0,d.jsxs)("div",{children:[(0,d.jsx)(x,{savePhoto:t.savePhoto,isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,d.jsx)(D,{})]})},J=e(6871),U=e(7781),z=e(1548),O=function(t){(0,r.Z)(e,t);var s=(0,o.Z)(e);function e(){return(0,n.Z)(this,e),s.apply(this,arguments)}return(0,a.Z)(e,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;":userId"===t&&(t=this.props.autorizedUserId),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,s,e){this.props.match.params.userId!=t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,d.jsxs)("div",{children:[(0,d.jsx)(F,(0,i.Z)((0,i.Z)({},this.props),{},{isOwner:":userId"===this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto})),(0,d.jsx)(J.Z5,{children:(0,d.jsx)(J.AW,{path:":id",element:(0,d.jsx)(F,(0,i.Z)((0,i.Z)({},this.props),{},{profile:this.props.profile}))})})]})}}]),e}(u.Component),T=(0,U.qC)((0,C.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,autorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getUserProfile:j.et,getStatus:j.lR,updateStatus:j.Nf,savePhoto:j.Ju}),(function(t){return function(s){var e=(0,J.bS)("/profile/:userId");return(0,d.jsx)(t,(0,i.Z)((0,i.Z)({},s),{},{match:e}))}}),z.D)(O)},1548:function(t,s,e){e.d(s,{D:function(){return d}});var n=e(8683),a=e(5671),r=e(3144),o=e(136),i=e(5716),u=e(6871),c=e(2791),l=e(8687),h=e(184),f=function(t){return{isAuth:t.auth.isAuth}},d=function(t){var s=function(s){(0,o.Z)(c,s);var e=(0,i.Z)(c);function c(){return(0,a.Z)(this,c),e.apply(this,arguments)}return(0,r.Z)(c,[{key:"render",value:function(){return this.props.isAuth?(0,h.jsx)(t,(0,n.Z)({},this.props)):(0,h.jsx)(u.Fg,{replace:!0,to:"/login"})}}]),c}(c.Component);return(0,l.$j)(f)(s)}}}]);
//# sourceMappingURL=42.488c8e57.chunk.js.map