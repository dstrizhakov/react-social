"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[878],{7878:function(e,n,s){s.r(n),s.d(n,{default:function(){return H}});var r=s(5671),o=s(3144),t=s(136),i=s(5716),l=s(2791),a=s(8687),u=s(2338),c="Users_wrapper__5xAxS",g="Users_main__wQ-5I",f="Users_Container__bb8GZ",d="Users_leftCnt__IBSt2",p="Users_rightCnt__sUPsu",h="Users_PhotoCnt__5jZ74",_="Users_buttons__AeLzH",P="Users_follow__Fy8nl",w="Users_unfollow__0sc5n",m=s(8055),x=s(885),C="Paginator_pages__ID0sn",j="Paginator_selectedPage__Fx664",v=s(184),U=function(e){for(var n=e.totalItemsCount,s=e.pageSize,r=e.currentPage,o=e.onPageChanged,t=e.portionSize,i=void 0===t?25:t,a=Math.ceil(n/s),u=[],c=1;c<=a;c++)u.push(c);var g=Math.ceil(a/i),f=(0,l.useState)(1),d=(0,x.Z)(f,2),p=d[0],h=d[1],_=(p-1)*i+1,P=p*i;return(0,l.useEffect)((function(){return h(Math.ceil(r/i))}),[r]),(0,v.jsxs)("div",{className:C,children:[(0,v.jsx)("button",{disabled:!(p>1),onClick:function(){h(p-1)},children:"Prev"}),u.filter((function(e){return e>=_&&e<=P})).map((function(e){return(0,v.jsx)("span",{className:r===e&&j,onClick:function(n){o(e)},children:e},e)})),(0,v.jsx)("button",{disabled:!(g>p),onClick:function(){h(p+1)},children:"Next"})]})},b=s(3504),N=function(e){var n=e.user,s=e.followingInProgress,r=e.unfollow,o=e.follow;return(0,v.jsxs)("div",{className:f,children:[(0,v.jsxs)("div",{className:d,children:[(0,v.jsx)(b.OL,{to:"/profile/"+n.id,children:(0,v.jsx)("div",{className:h,children:(0,v.jsx)("img",{src:null!=n.photos.small?n.photos.small:m,alt:"\u043e\u0439, \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u043d\u0435\u0442"})})}),(0,v.jsx)("div",{className:_,children:n.followed?(0,v.jsx)("button",{disabled:s.some((function(e){return e===n.id})),className:w,onClick:function(){r(n.id)},children:"Unfollow"}):(0,v.jsx)("button",{disabled:s.some((function(e){return e===n.id})),className:P,onClick:function(){o(n.id)},children:"Follow"})})]}),(0,v.jsx)("div",{className:p,children:(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{children:n.name}),(0,v.jsx)("div",{children:n.status})]})})]},n.id)},S=function(e){return(0,v.jsxs)("div",{className:c,children:[(0,v.jsx)(U,{currentPage:e.currentPage,onPageChanged:e.onPageChanged,totalItemsCount:e.totalUsersCount,pageSize:e.pageSize}),(0,v.jsx)("div",{className:g,children:e.users.map((function(n){return(0,v.jsx)(N,{user:n,followingInProgress:e.followingInProgress,follow:e.follow,unfollow:e.unfollow},n.id)}))})]})},I=s(4080),k=s(7781),z=function(e){return e.usersPage.users},Z=function(e){return e.usersPage.pageSize},F=function(e){return e.usersPage.totalUsersCount},y=function(e){return e.usersPage.currentPage},M=function(e){return e.usersPage.isFetching},A=function(e){return e.usersPage.followingInProgress},D=function(e){(0,t.Z)(s,e);var n=(0,i.Z)(s);function s(){var e;(0,r.Z)(this,s);for(var o=arguments.length,t=new Array(o),i=0;i<o;i++)t[i]=arguments[i];return(e=n.call.apply(n,[this].concat(t))).onPageChanged=function(n){var s=e.props.pageSize;e.props.getUsers(n,s)},e}return(0,o.Z)(s,[{key:"componentDidMount",value:function(){var e=this.props,n=e.currentPage,s=e.pageSize;this.props.getUsers(n,s)}},{key:"render",value:function(){return(0,v.jsxs)(v.Fragment,{children:[this.props.isFetching?(0,v.jsx)(I.Z,{}):null,(0,v.jsx)(S,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,onPageChanged:this.onPageChanged,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress})]})}}]),s}(l.Component),H=(0,k.qC)((0,a.$j)((function(e){return{users:z(e),pageSize:Z(e),totalUsersCount:F(e),currentPage:y(e),isFetching:M(e),followingInProgress:A(e)}}),{follow:u.ZN,unfollow:u.fv,toggleFollowingProgress:u.ZH,getUsers:u.D7}))(D)}}]);
//# sourceMappingURL=878.713fbb1e.chunk.js.map