{"version":3,"file":"static/js/878.713fbb1e.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/Users/Users.module.css?b9d0","webpack://my-app/./src/components/common/Paginator/Paginator.module.css?6caa","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Users_wrapper__5xAxS\",\"main\":\"Users_main__wQ-5I\",\"Container\":\"Users_Container__bb8GZ\",\"leftCnt\":\"Users_leftCnt__IBSt2\",\"rightCnt\":\"Users_rightCnt__sUPsu\",\"PhotoCnt\":\"Users_PhotoCnt__5jZ74\",\"buttons\":\"Users_buttons__AeLzH\",\"follow\":\"Users_follow__Fy8nl\",\"unfollow\":\"Users_unfollow__0sc5n\",\"loadMore\":\"Users_loadMore__BjUL4\",\"pages\":\"Users_pages__wrsXk\",\"selectedPage\":\"Users_selectedPage__a2GRZ\"};","// extracted by mini-css-extract-plugin\nexport default {\"pages\":\"Paginator_pages__ID0sn\",\"selectedPage\":\"Paginator_selectedPage__Fx664\"};","import React, {useEffect, useState} from \"react\";\r\nimport style from \"./Paginator.module.css\";\r\n\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 25}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionNumber = portionNumber * portionSize;\r\n\r\n    useEffect(()=>setPortionNumber(Math.ceil(currentPage/portionSize)), [currentPage]);\r\n\r\n    return (\r\n        <div className={style.pages}>\r\n            <button disabled = {!(portionNumber > 1)} onClick={()=>{setPortionNumber(portionNumber -1)}}>Prev</button>\r\n        {pages\r\n            .filter(p => p >= leftPortionNumber && p <= rightPortionNumber)\r\n            .map((p) => {\r\n                return <span key={p} className={currentPage === p && style.selectedPage}\r\n                onClick={(e) => {onPageChanged(p)}}>{p}</span>\r\n            })}\r\n            <button disabled = {!(portionCount > portionNumber)} onClick={()=>{setPortionNumber(portionNumber +1)}}>Next</button>\r\n        </div>)\r\n}\r\nexport default Paginator;","import React from \"react\";\r\nimport style from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/img/user.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nlet User = ({user, followingInProgress, unfollow, follow}) => {\r\n\r\n/*    const squareDigits = (num) => {\r\n        let numStr = num.toString();\r\n        let strOut = '';\r\n        for (let i = 0; i < numStr.length; i++) {\r\n            let iteration = (numStr[i] * numStr[i]).toString();\r\n            strOut = strOut + iteration;\r\n        }\r\n        return parseInt(strOut, 10);\r\n    }\r\n    console.log (squareDigits(9119));*/\r\n\r\n\r\n    return (\r\n        <div className={style.Container} key={user.id}>\r\n            <div className={style.leftCnt}>\r\n                <NavLink to={'/profile/' + user.id}>\r\n                    <div className={style.PhotoCnt}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto} alt=\"ой, картинки нет\"/>\r\n                    </div>\r\n                </NavLink>\r\n                <div className={style.buttons}>\r\n                    {user.followed\r\n                        ? <button disabled={followingInProgress.some(id => id === user.id)} className={style.unfollow}\r\n                                  onClick={() => {\r\n                                      unfollow(user.id)\r\n                                  }}>Unfollow</button>\r\n                        : <button disabled={followingInProgress.some(id => id === user.id)} className={style.follow}\r\n                                  onClick={() => {\r\n                                      follow(user.id)\r\n                                  }}>Follow</button>}\r\n                </div>\r\n            </div>\r\n            <div className={style.rightCnt}>\r\n                <div>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </div>\r\n            </div>\r\n        </div>)\r\n}\r\nexport default User;","import React from \"react\";\r\nimport style from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/img/user.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\nlet Users = (props) => {\r\n    return <div className={style.wrapper}>\r\n        < Paginator currentPage={props.currentPage} onPageChanged={props.onPageChanged}\r\n                    totalItemsCount={props.totalUsersCount} pageSize={props.pageSize}/>\r\n        <div className={style.main}>\r\n\r\n            {props.users.map(u => <User user={u}\r\n                                        followingInProgress={props.followingInProgress}\r\n                                        follow={props.follow}\r\n                                        unfollow={props.unfollow}\r\n                                        key={u.id}\r\n            />)}\r\n\r\n        </div>\r\n\r\n    </div>\r\n}\r\nexport default Users;","import { createSelector } from 'reselect'\r\n\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n/*export const getUsers = createSelector(getUsersSelector,(users) =>{\r\n    return users.filter(u => true);\r\n})*/\r\nexport const getPageSize = (state) => {return state.usersPage.pageSize;}\r\nexport const getTotalUsersCount = (state) => {return state.usersPage.totalUsersCount;}\r\nexport const getCurrentPage = (state) => {return state.usersPage.currentPage;}\r\nexport const getIsFetching = (state) => {return state.usersPage.isFetching;}\r\nexport const getFollowingInProgress = (state) => {return state.usersPage.followingInProgress;}\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    unfollow, toggleFollowingProgress, requestUsers\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n       /* this.props.setCurrentPage(pageNumber);*/\r\n        const {pageSize} = this.props;\r\n        this.props.getUsers(pageNumber, pageSize);\r\n\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                users={this.props.users}\r\n                onPageChanged={this.onPageChanged}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n//mapStateToProps через селекторы\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n/*let mapStateToProps = (state) => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress\r\n    }\r\n}*/\r\n/*let mapDispatchToProps = (dispatch) => {\r\nreturn {\r\n    follow: (userId) => {\r\n        dispatch(followAC(userId))\r\n    },\r\n    unfollow: (userId) => {\r\n        dispatch(unfollowAC(userId))\r\n    },\r\n    setUsers: (users) => {\r\n        dispatch(setUsersAC(users))\r\n    },\r\n    setCurrentPage: (pageNumber) => {\r\n        dispatch( setCurrentPageAC(pageNumber))\r\n    },\r\n    setTotalUsersCount: (totalCount) => {\r\n        dispatch( setUsersTotalCountAC(totalCount))\r\n    },\r\n    toggleIsFetching: (isFetching) => {\r\n        dispatch( toggleIsFetchingAC(isFetching))\r\n    }\r\n}\r\n}*/\r\n/*\r\nexport default connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    getUsers\r\n})(UsersContainer);*/\r\n\r\nexport default compose(\r\n    //withAuthRedirect,\r\n    connect(mapStateToProps, {follow,unfollow,toggleFollowingProgress,getUsers: requestUsers})\r\n)(UsersContainer)"],"names":["totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionNumber","rightPortionNumber","useEffect","className","style","disabled","onClick","filter","p","map","e","user","followingInProgress","unfollow","follow","to","id","src","photos","small","userPhoto","alt","followed","some","name","status","props","totalUsersCount","users","u","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","pageNumber","this","Preloader","React","compose","connect","toggleFollowingProgress","requestUsers"],"sourceRoot":""}